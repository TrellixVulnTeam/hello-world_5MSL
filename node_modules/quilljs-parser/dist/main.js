!function(t,e){"object"==typeof exports&&"object"==typeof module?module.exports=e():"function"==typeof define&&define.amd?define([],e):"object"==typeof exports?exports["quilljs-parser"]=e():t["quilljs-parser"]=e()}(self,(function(){return(()=>{"use strict";var t={607:(t,e)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.parseQuillDelta=void 0;let r=!1;function s(t,e){t.insert.video||t.insert.image?function(t,e){e.paragraphs.push({embed:t.insert}),r=!1,n(e)}(t,e):t.insert.formula?function(t,e){var r;0===e.paragraphs.length&&n(e),null===(r=e.paragraphs[e.paragraphs.length-1].textRuns)||void 0===r||r.push({formula:t.insert.formula,attributes:t.attributes})}(t,e):"\n"===t.insert?function(t,e){t.attributes&&(e.paragraphs[e.paragraphs.length-1].attributes=t.attributes,"ordered"===t.attributes.list?r||(e.setup.numberedLists++,r=!0):r=!1),n(e)}(t,e):function(t,e){if(0===e.paragraphs.length&&n(e),t.insert.match(/\n/)){const s=t.insert.split(/(\n)/);for(const t of s)"\n"===t?(n(e),r=!1):a(t,e)}else a(t.insert,e,t.attributes)}(t,e)}function n(t){t.paragraphs.push({textRuns:[]})}function a(t,e,r){var s,n;r?(null===(s=e.paragraphs[e.paragraphs.length-1].textRuns)||void 0===s||s.push({text:t,attributes:r}),r.link&&e.setup.hyperlinks.push({text:t,link:r.link})):null===(n=e.paragraphs[e.paragraphs.length-1].textRuns)||void 0===n||n.push({text:t})}e.parseQuillDelta=function(t){r=!1;const e={paragraphs:[],setup:{numberedLists:0,hyperlinks:[]}};for(const r of t.ops)s(r,e);return e}}},e={};return function r(s){if(e[s])return e[s].exports;var n=e[s]={exports:{}};return t[s](n,n.exports,r),n.exports}(607)})()}));
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9xdWlsbGpzLXBhcnNlci93ZWJwYWNrL3VuaXZlcnNhbE1vZHVsZURlZmluaXRpb24iLCJ3ZWJwYWNrOi8vcXVpbGxqcy1wYXJzZXIvLi9zcmMvaW5kZXgudHMiLCJ3ZWJwYWNrOi8vcXVpbGxqcy1wYXJzZXIvd2VicGFjay9ib290c3RyYXAiLCJ3ZWJwYWNrOi8vcXVpbGxqcy1wYXJzZXIvd2VicGFjay9zdGFydHVwIl0sIm5hbWVzIjpbInJvb3QiLCJmYWN0b3J5IiwiZXhwb3J0cyIsIm1vZHVsZSIsImRlZmluZSIsImFtZCIsInNlbGYiLCJhY3RpdmVOdW1iZXJlZExpc3QiLCJwYXJzZU9wIiwib3AiLCJwYXJzZWQiLCJpbnNlcnQiLCJ2aWRlbyIsImltYWdlIiwicGFyYWdyYXBocyIsInB1c2giLCJlbWJlZCIsInN0YXJ0TmV3UGFyYWdyYXBoIiwiaW5zZXJ0RW1iZWRQYXJhZ3JhcGgiLCJmb3JtdWxhIiwibGVuZ3RoIiwidGV4dFJ1bnMiLCJhdHRyaWJ1dGVzIiwiaW5zZXJ0Rm9ybXVsYSIsImxpc3QiLCJzZXR1cCIsIm51bWJlcmVkTGlzdHMiLCJpbnNlcnROZXdsaW5lIiwibWF0Y2giLCJzdHJpbmdzIiwic3BsaXQiLCJ0ZXh0IiwiaW5zZXJ0U2ltcGxlU3RyaW5nIiwiaW5zZXJ0VGV4dCIsImxpbmsiLCJoeXBlcmxpbmtzIiwicXVpbGwiLCJvcHMiLCJfX3dlYnBhY2tfbW9kdWxlX2NhY2hlX18iLCJfX3dlYnBhY2tfcmVxdWlyZV9fIiwibW9kdWxlSWQiLCJfX3dlYnBhY2tfbW9kdWxlc19fIl0sIm1hcHBpbmdzIjoiQ0FBQSxTQUEyQ0EsRUFBTUMsR0FDMUIsaUJBQVpDLFNBQTBDLGlCQUFYQyxPQUN4Q0EsT0FBT0QsUUFBVUQsSUFDUSxtQkFBWEcsUUFBeUJBLE9BQU9DLElBQzlDRCxPQUFPLEdBQUlILEdBQ2UsaUJBQVpDLFFBQ2RBLFFBQVEsa0JBQW9CRCxJQUU1QkQsRUFBSyxrQkFBb0JDLElBUjNCLENBU0dLLE1BQU0sV0FDVCxNLGdIQzZEQSxJQUFJQyxHQUFxQixFQWtCekIsU0FBU0MsRUFBUUMsRUFBYUMsR0FFckJELEVBQUdFLE9BQXVCQyxPQUFVSCxFQUFHRSxPQUF1QkUsTUFzQnZFLFNBQThCSixFQUFhQyxHQUN2Q0EsRUFBT0ksV0FBV0MsS0FBSyxDQUNuQkMsTUFBT1AsRUFBR0UsU0FFZEosR0FBcUIsRUFDckJVLEVBQWtCUCxHQTFCZFEsQ0FBcUJULEVBQUlDLEdBRWpCRCxFQUFHRSxPQUF1QlEsUUE0QjFDLFNBQXVCVixFQUFhQyxHLE1BQ0MsSUFBN0JBLEVBQU9JLFdBQVdNLFFBQ2xCSCxFQUFrQlAsR0FFZ0MsUUFBdEQsRUFBQUEsRUFBT0ksV0FBV0osRUFBT0ksV0FBV00sT0FBTyxHQUFHQyxnQkFBUSxTQUFFTixLQUFLLENBQ3pESSxRQUFVVixFQUFHRSxPQUF1QlEsUUFDcENHLFdBQVliLEVBQUdhLGFBakNmQyxDQUFjZCxFQUFJQyxHQUVHLE9BQWRELEVBQUdFLE9Bb0NsQixTQUF1QkYsRUFBYUMsR0FFNUJELEVBQUdhLGFBQ0haLEVBQU9JLFdBQVdKLEVBQU9JLFdBQVdNLE9BQU8sR0FBR0UsV0FBYWIsRUFBR2EsV0FDbkMsWUFBdkJiLEVBQUdhLFdBQVdFLEtBRVZqQixJQU1BRyxFQUFPZSxNQUFNQyxnQkFDYm5CLEdBQXFCLEdBR3pCQSxHQUFxQixHQUc3QlUsRUFBa0JQLEdBdERkaUIsQ0FBY2xCLEVBQUlDLEdBMEQxQixTQUFvQkQsRUFBYUMsR0FLN0IsR0FKaUMsSUFBN0JBLEVBQU9JLFdBQVdNLFFBQ2xCSCxFQUFrQlAsR0FHakJELEVBQUdFLE9BQWtCaUIsTUFBTSxNQUFPLENBQ25DLE1BQU1DLEVBQXdCcEIsRUFBR0UsT0FpQ3ZCbUIsTUFBTSxRQWhDaEIsSUFBSyxNQUFNQyxLQUFRRixFQUNGLE9BQVRFLEdBQ0FkLEVBQWtCUCxHQUNsQkgsR0FBcUIsR0FFckJ5QixFQUFtQkQsRUFBTXJCLFFBSWpDc0IsRUFBbUJ2QixFQUFHRSxPQUFrQkQsRUFBUUQsRUFBR2EsWUF2RW5EVyxDQUFXeEIsRUFBSUMsR0FLdkIsU0FBU08sRUFBa0JQLEdBQ3ZCQSxFQUFPSSxXQUFXQyxLQUFLLENBQ25CTSxTQUFVLEtBcUVsQixTQUFTVyxFQUFtQkQsRUFBY3JCLEVBQTBCWSxHLFFBQzVEQSxHQUNzRCxRQUF0RCxFQUFBWixFQUFPSSxXQUFXSixFQUFPSSxXQUFXTSxPQUFPLEdBQUdDLGdCQUFRLFNBQUVOLEtBQUssQ0FDekRnQixLQUFNQSxFQUNOVCxXQUFZQSxJQUVaQSxFQUFXWSxNQUNYeEIsRUFBT2UsTUFBTVUsV0FBV3BCLEtBQUssQ0FBRWdCLEtBQU1BLEVBQU1HLEtBQU1aLEVBQVdZLFFBR1YsUUFBdEQsRUFBQXhCLEVBQU9JLFdBQVdKLEVBQU9JLFdBQVdNLE9BQU8sR0FBR0MsZ0JBQVEsU0FBRU4sS0FBSyxDQUN6RGdCLEtBQU1BLElBbkhsQiwyQkFBZ0NLLEdBQzVCN0IsR0FBcUIsRUFDckIsTUFBTUcsRUFBMkIsQ0FDN0JJLFdBQVksR0FDWlcsTUFBTyxDQUNIQyxjQUFlLEVBQ2ZTLFdBQVksS0FHcEIsSUFBSyxNQUFNMUIsS0FBTTJCLEVBQU1DLElBQ25CN0IsRUFBUUMsRUFBSUMsR0FFaEIsT0FBT0EsS0NwRlA0QixFQUEyQixHQ0UvQixPRENBLFNBQVNDLEVBQW9CQyxHQUU1QixHQUFHRixFQUF5QkUsR0FDM0IsT0FBT0YsRUFBeUJFLEdBQVV0QyxRQUczQyxJQUFJQyxFQUFTbUMsRUFBeUJFLEdBQVksQ0FHakR0QyxRQUFTLElBT1YsT0FIQXVDLEVBQW9CRCxHQUFVckMsRUFBUUEsRUFBT0QsUUFBU3FDLEdBRy9DcEMsRUFBT0QsUUNqQlJxQyxDQUFvQixNIiwiZmlsZSI6Im1haW4uanMiLCJzb3VyY2VzQ29udGVudCI6WyIoZnVuY3Rpb24gd2VicGFja1VuaXZlcnNhbE1vZHVsZURlZmluaXRpb24ocm9vdCwgZmFjdG9yeSkge1xuXHRpZih0eXBlb2YgZXhwb3J0cyA9PT0gJ29iamVjdCcgJiYgdHlwZW9mIG1vZHVsZSA9PT0gJ29iamVjdCcpXG5cdFx0bW9kdWxlLmV4cG9ydHMgPSBmYWN0b3J5KCk7XG5cdGVsc2UgaWYodHlwZW9mIGRlZmluZSA9PT0gJ2Z1bmN0aW9uJyAmJiBkZWZpbmUuYW1kKVxuXHRcdGRlZmluZShbXSwgZmFjdG9yeSk7XG5cdGVsc2UgaWYodHlwZW9mIGV4cG9ydHMgPT09ICdvYmplY3QnKVxuXHRcdGV4cG9ydHNbXCJxdWlsbGpzLXBhcnNlclwiXSA9IGZhY3RvcnkoKTtcblx0ZWxzZVxuXHRcdHJvb3RbXCJxdWlsbGpzLXBhcnNlclwiXSA9IGZhY3RvcnkoKTtcbn0pKHNlbGYsIGZ1bmN0aW9uKCkge1xucmV0dXJuICIsImV4cG9ydCBpbnRlcmZhY2UgSW5zZXJ0RW1iZWQge1xuICAgIGltYWdlPzogc3RyaW5nO1xuICAgIGZvcm11bGE/OiBzdHJpbmc7XG4gICAgdmlkZW8/OiBzdHJpbmc7XG59XG5cbmV4cG9ydCBpbnRlcmZhY2UgUnVuQXR0cmlidXRlcyB7XG4gICAgc2NyaXB0PzogJ3N1cGVyJyB8ICdzdWInO1xuICAgIGNvbG9yPzogc3RyaW5nO1xuICAgIGJhY2tncm91bmQ/OiBzdHJpbmc7XG4gICAgYm9sZD86IGJvb2xlYW47XG4gICAgaXRhbGljPzogYm9vbGVhbjtcbiAgICB1bmRlcmxpbmU/OiBib29sZWFuO1xuICAgIHN0cmlrZT86IGJvb2xlYW47XG4gICAgZm9udD86IHN0cmluZztcbiAgICBsaW5rPzogc3RyaW5nO1xuICAgIHNpemU/OiAnc21hbGwnIHwgJ2xhcmdlJyB8ICdodWdlJztcbn1cblxuZXhwb3J0IGludGVyZmFjZSBMaW5lQXR0cmlidXRlcyB7XG4gICAgaGVhZGVyPzogMSB8IDI7XG4gICAgZGlyZWN0aW9uPzogJ3J0bCc7XG4gICAgYWxpZ24/OiAncmlnaHQnIHwgJ2xlZnQnIHwgJ2NlbnRlcicgfCAnanVzdGlmeSc7XG4gICAgaW5kZW50PzogbnVtYmVyO1xuICAgIGJsb2NrcXVvdGU/OiBib29sZWFuO1xuICAgIGxpc3Q/OiAnb3JkZXJlZCcgfCAnYnVsbGV0JztcbiAgICBcImNvZGUtYmxvY2tcIj86IGJvb2xlYW47XG59XG5cbmV4cG9ydCBpbnRlcmZhY2UgQXR0cmlidXRlcyBleHRlbmRzIFJ1bkF0dHJpYnV0ZXMsIExpbmVBdHRyaWJ1dGVzIHt9XG5cbmV4cG9ydCBpbnRlcmZhY2UgUXVpbGxPcCB7XG4gICAgaW5zZXJ0Pzogc3RyaW5nIHwgSW5zZXJ0RW1iZWQ7XG4gICAgYXR0cmlidXRlcz86IEF0dHJpYnV0ZXM7XG4gICAgbGluZUF0dHJpYnV0ZXM/OiBMaW5lQXR0cmlidXRlcztcbiAgICBydW5BdHRyaWJ1dGVzPzogUnVuQXR0cmlidXRlcztcbn1cblxuZXhwb3J0IGludGVyZmFjZSBSYXdRdWlsbERlbHRhIHtcbiAgICBvcHM6IFF1aWxsT3BbXTtcbn1cblxuLy8gT1VUUFVUXG5cbmV4cG9ydCBpbnRlcmZhY2UgVGV4dFJ1biB7XG4gICAgdGV4dDogc3RyaW5nO1xuICAgIGF0dHJpYnV0ZXM/OiBSdW5BdHRyaWJ1dGVzO1xufVxuXG5leHBvcnQgaW50ZXJmYWNlIFBhcmFncmFwaCB7XG4gICAgdGV4dFJ1bnM/OiAoVGV4dFJ1biB8IHsgZm9ybXVsYTogc3RyaW5nIH0pW107XG4gICAgZW1iZWQ/OiBJbnNlcnRFbWJlZDtcbiAgICBhdHRyaWJ1dGVzPzogTGluZUF0dHJpYnV0ZXM7XG59XG5cbmV4cG9ydCBpbnRlcmZhY2UgUUh5cGVyTGluayB7XG4gICAgdGV4dDogc3RyaW5nO1xuICAgIGxpbms6IHN0cmluZztcbn1cblxuZXhwb3J0IGludGVyZmFjZSBTZXR1cEluZm8ge1xuICAgIG51bWJlcmVkTGlzdHM6IG51bWJlcjtcbiAgICBoeXBlcmxpbmtzOiBRSHlwZXJMaW5rW107XG59XG5cbmV4cG9ydCBpbnRlcmZhY2UgUGFyc2VkUXVpbGxEZWx0YSB7XG4gICAgcGFyYWdyYXBoczogUGFyYWdyYXBoW107XG4gICAgc2V0dXA6IFNldHVwSW5mbztcbn1cblxuLy8gRnVuY3Rpb25zXG5sZXQgYWN0aXZlTnVtYmVyZWRMaXN0ID0gZmFsc2U7XG5cbmV4cG9ydCBmdW5jdGlvbiBwYXJzZVF1aWxsRGVsdGEocXVpbGw6IFJhd1F1aWxsRGVsdGEpOiBQYXJzZWRRdWlsbERlbHRhIHtcbiAgICBhY3RpdmVOdW1iZXJlZExpc3QgPSBmYWxzZTtcbiAgICBjb25zdCBwYXJzZWQ6IFBhcnNlZFF1aWxsRGVsdGEgPSB7XG4gICAgICAgIHBhcmFncmFwaHM6IFtdLFxuICAgICAgICBzZXR1cDoge1xuICAgICAgICAgICAgbnVtYmVyZWRMaXN0czogMCxcbiAgICAgICAgICAgIGh5cGVybGlua3M6IFtdXG4gICAgICAgIH1cbiAgICB9O1xuICAgIGZvciAoY29uc3Qgb3Agb2YgcXVpbGwub3BzKSB7XG4gICAgICAgIHBhcnNlT3Aob3AsIHBhcnNlZCk7XG4gICAgfTtcbiAgICByZXR1cm4gcGFyc2VkO1xufVxuXG5cbmZ1bmN0aW9uIHBhcnNlT3Aob3A6IFF1aWxsT3AsIHBhcnNlZDogUGFyc2VkUXVpbGxEZWx0YSkge1xuICAgIC8vIGhhbmRsZSB2aWRlb3MgYW5kIGltYWdlc1xuICAgIGlmICgob3AuaW5zZXJ0IGFzIEluc2VydEVtYmVkKS52aWRlbyB8fCAob3AuaW5zZXJ0IGFzIEluc2VydEVtYmVkKS5pbWFnZSkge1xuICAgICAgICBpbnNlcnRFbWJlZFBhcmFncmFwaChvcCwgcGFyc2VkKTtcbiAgICAvLyBoYW5kbGUgZm9ybXVsYXNcbiAgICB9IGVsc2UgaWYgKChvcC5pbnNlcnQgYXMgSW5zZXJ0RW1iZWQpLmZvcm11bGEpIHtcbiAgICAgICAgaW5zZXJ0Rm9ybXVsYShvcCwgcGFyc2VkKTtcbiAgICAvLyBoYW5kbGUgZXhjbHVzaXZlIG5ld2xpbmVzXG4gICAgfSBlbHNlIGlmIChvcC5pbnNlcnQgPT09ICdcXG4nKSB7XG4gICAgICAgIGluc2VydE5ld2xpbmUob3AsIHBhcnNlZCk7XG4gICAgLy8gaGFuZGxlIHRleHQgYW5kIHRleHQgd2l0aCBuZXdsaW5lcyBpbnRlcm1peGVkXG4gICAgfSBlbHNlIHtcbiAgICAgICAgaW5zZXJ0VGV4dChvcCwgcGFyc2VkKTtcbiAgICB9XG59XG5cbi8vIGluc2VydCBhIGJsYW5rIHBhcmFncmFwaFxuZnVuY3Rpb24gc3RhcnROZXdQYXJhZ3JhcGgocGFyc2VkOiBQYXJzZWRRdWlsbERlbHRhKSB7XG4gICAgcGFyc2VkLnBhcmFncmFwaHMucHVzaCh7XG4gICAgICAgIHRleHRSdW5zOiBbXVxuICAgIH0pO1xufVxuXG4vLyBpbnNlcnRzIGEgdmlkZW8gb3IgaW1hZ2UgZW1iZWRcbmZ1bmN0aW9uIGluc2VydEVtYmVkUGFyYWdyYXBoKG9wOiBRdWlsbE9wLCBwYXJzZWQ6IFBhcnNlZFF1aWxsRGVsdGEpIHtcbiAgICBwYXJzZWQucGFyYWdyYXBocy5wdXNoKHtcbiAgICAgICAgZW1iZWQ6IG9wLmluc2VydCBhcyBJbnNlcnRFbWJlZFxuICAgIH0pO1xuICAgIGFjdGl2ZU51bWJlcmVkTGlzdCA9IGZhbHNlO1xuICAgIHN0YXJ0TmV3UGFyYWdyYXBoKHBhcnNlZCk7XG59XG5cbi8vIGluc2VydHMgYSBmb3JtdWxhIGVtYmVkXG5mdW5jdGlvbiBpbnNlcnRGb3JtdWxhKG9wOiBRdWlsbE9wLCBwYXJzZWQ6IFBhcnNlZFF1aWxsRGVsdGEpIHtcbiAgICBpZiAocGFyc2VkLnBhcmFncmFwaHMubGVuZ3RoID09PSAwKSB7XG4gICAgICAgIHN0YXJ0TmV3UGFyYWdyYXBoKHBhcnNlZCk7XG4gICAgfVxuICAgIHBhcnNlZC5wYXJhZ3JhcGhzW3BhcnNlZC5wYXJhZ3JhcGhzLmxlbmd0aC0xXS50ZXh0UnVucz8ucHVzaCh7XG4gICAgICAgIGZvcm11bGE6IChvcC5pbnNlcnQgYXMgSW5zZXJ0RW1iZWQpLmZvcm11bGEhLFxuICAgICAgICBhdHRyaWJ1dGVzOiBvcC5hdHRyaWJ1dGVzXG4gICAgfSk7XG59XG5cbi8vIGluc2VydHMgYSBuZXcgcGFyYWdyYXBoIGFuZCBhcHBsaWVzIGxpbmUgZm9ybWF0dGluZ1xuZnVuY3Rpb24gaW5zZXJ0TmV3bGluZShvcDogUXVpbGxPcCwgcGFyc2VkOiBQYXJzZWRRdWlsbERlbHRhKSB7XG4gICAgLy8gaWYgbGluZSBhdHRyaWJ1dGVzLCBhcHBseSB0aG9zZSB0byB0aGUgcHJldmlvdXMgcGFyYWdyYXBoXG4gICAgaWYgKG9wLmF0dHJpYnV0ZXMpIHtcbiAgICAgICAgcGFyc2VkLnBhcmFncmFwaHNbcGFyc2VkLnBhcmFncmFwaHMubGVuZ3RoLTFdLmF0dHJpYnV0ZXMgPSBvcC5hdHRyaWJ1dGVzO1xuICAgICAgICBpZiAob3AuYXR0cmlidXRlcy5saXN0ID09PSAnb3JkZXJlZCcpIHtcbiAgICAgICAgICAgIC8vIGlmIGFscmVhZHkgYW4gYWN0aXZlIG51bWJlcmVkIGxpc3RcbiAgICAgICAgICAgIGlmIChhY3RpdmVOdW1iZXJlZExpc3QpIHtcbiAgICAgICAgICAgICAgICAvLyBkbyBub3QgaW5jcmVtZW50IFxuICAgICAgICAgICAgICAgIC8vIGxlYXZlIGFjdGl2ZSBsaXN0IHRydWVcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgLy8gaW5jcmVtZW1udFxuICAgICAgICAgICAgICAgIC8vIHNldCBhY3RpdmUgdG8gdHJ1ZVxuICAgICAgICAgICAgICAgIHBhcnNlZC5zZXR1cC5udW1iZXJlZExpc3RzKys7XG4gICAgICAgICAgICAgICAgYWN0aXZlTnVtYmVyZWRMaXN0ID0gdHJ1ZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIGFjdGl2ZU51bWJlcmVkTGlzdCA9IGZhbHNlO1xuICAgICAgICB9XG4gICAgfVxuICAgIHN0YXJ0TmV3UGFyYWdyYXBoKHBhcnNlZCk7XG59XG5cbi8vIGluc2VydHMgdGV4dCB3aXRoIGludGVybWl4ZWQgbmV3bGluZXMgYW5kIHJ1biBhdHRyaWJ1dGVzXG5mdW5jdGlvbiBpbnNlcnRUZXh0KG9wOiBRdWlsbE9wLCBwYXJzZWQ6IFBhcnNlZFF1aWxsRGVsdGEpIHtcbiAgICBpZiAocGFyc2VkLnBhcmFncmFwaHMubGVuZ3RoID09PSAwKSB7XG4gICAgICAgIHN0YXJ0TmV3UGFyYWdyYXBoKHBhcnNlZCk7XG4gICAgfVxuICAgIC8vIGlmIGl0IGNvbnRhaW5zIG5ld2xpbmUgY2hhcmFjdGVyc1xuICAgIGlmICgob3AuaW5zZXJ0IGFzIHN0cmluZykubWF0Y2goL1xcbi8pKSB7XG4gICAgICAgIGNvbnN0IHN0cmluZ3MgPSBzcGxpdFN0cmluZ3MoKG9wLmluc2VydCBhcyBzdHJpbmcpKTtcbiAgICAgICAgZm9yIChjb25zdCB0ZXh0IG9mIHN0cmluZ3MpIHtcbiAgICAgICAgICAgIGlmICh0ZXh0ID09PSAnXFxuJykge1xuICAgICAgICAgICAgICAgIHN0YXJ0TmV3UGFyYWdyYXBoKHBhcnNlZCk7XG4gICAgICAgICAgICAgICAgYWN0aXZlTnVtYmVyZWRMaXN0ID0gZmFsc2U7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIGluc2VydFNpbXBsZVN0cmluZyh0ZXh0LCBwYXJzZWQpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9O1xuICAgIH0gZWxzZSB7XG4gICAgICAgIGluc2VydFNpbXBsZVN0cmluZyhvcC5pbnNlcnQgYXMgc3RyaW5nLCBwYXJzZWQsIG9wLmF0dHJpYnV0ZXMpO1xuICAgIH1cbn1cblxuLy8gaW5zZXJ0cyBzaW1wbGUgc3RyaW5nIHdpdGggYXR0cmlidXRlc1xuZnVuY3Rpb24gaW5zZXJ0U2ltcGxlU3RyaW5nKHRleHQ6IHN0cmluZywgcGFyc2VkOiBQYXJzZWRRdWlsbERlbHRhLCBhdHRyaWJ1dGVzPzogUnVuQXR0cmlidXRlcykge1xuICAgIGlmIChhdHRyaWJ1dGVzKSB7XG4gICAgICAgIHBhcnNlZC5wYXJhZ3JhcGhzW3BhcnNlZC5wYXJhZ3JhcGhzLmxlbmd0aC0xXS50ZXh0UnVucz8ucHVzaCh7XG4gICAgICAgICAgICB0ZXh0OiB0ZXh0LFxuICAgICAgICAgICAgYXR0cmlidXRlczogYXR0cmlidXRlc1xuICAgICAgICB9KTtcbiAgICAgICAgaWYgKGF0dHJpYnV0ZXMubGluaykge1xuICAgICAgICAgICAgcGFyc2VkLnNldHVwLmh5cGVybGlua3MucHVzaCh7IHRleHQ6IHRleHQsIGxpbms6IGF0dHJpYnV0ZXMubGluayB9KTtcbiAgICAgICAgfVxuICAgIH0gZWxzZSB7XG4gICAgICAgIHBhcnNlZC5wYXJhZ3JhcGhzW3BhcnNlZC5wYXJhZ3JhcGhzLmxlbmd0aC0xXS50ZXh0UnVucz8ucHVzaCh7XG4gICAgICAgICAgICB0ZXh0OiB0ZXh0XG4gICAgICAgIH0pO1xuICAgIH1cbn1cblxuLy8gc3BsaXRzIHN0cmluZ3Mgb24gZXZlcnkgbmV3bGluZSBjaGFyYWN0ZXIsIGtlZXBpbmcgdGhlIG5ld2xpbmUgY2hhcmFjdGVyczsgcmV0dXJucyBhcnJheVxuZnVuY3Rpb24gc3BsaXRTdHJpbmdzKHN0cmluZzogc3RyaW5nKTogc3RyaW5nW10ge1xuICAgIHJldHVybiBzdHJpbmcuc3BsaXQoLyhcXG4pLyk7XG59XG4iLCIvLyBUaGUgbW9kdWxlIGNhY2hlXG52YXIgX193ZWJwYWNrX21vZHVsZV9jYWNoZV9fID0ge307XG5cbi8vIFRoZSByZXF1aXJlIGZ1bmN0aW9uXG5mdW5jdGlvbiBfX3dlYnBhY2tfcmVxdWlyZV9fKG1vZHVsZUlkKSB7XG5cdC8vIENoZWNrIGlmIG1vZHVsZSBpcyBpbiBjYWNoZVxuXHRpZihfX3dlYnBhY2tfbW9kdWxlX2NhY2hlX19bbW9kdWxlSWRdKSB7XG5cdFx0cmV0dXJuIF9fd2VicGFja19tb2R1bGVfY2FjaGVfX1ttb2R1bGVJZF0uZXhwb3J0cztcblx0fVxuXHQvLyBDcmVhdGUgYSBuZXcgbW9kdWxlIChhbmQgcHV0IGl0IGludG8gdGhlIGNhY2hlKVxuXHR2YXIgbW9kdWxlID0gX193ZWJwYWNrX21vZHVsZV9jYWNoZV9fW21vZHVsZUlkXSA9IHtcblx0XHQvLyBubyBtb2R1bGUuaWQgbmVlZGVkXG5cdFx0Ly8gbm8gbW9kdWxlLmxvYWRlZCBuZWVkZWRcblx0XHRleHBvcnRzOiB7fVxuXHR9O1xuXG5cdC8vIEV4ZWN1dGUgdGhlIG1vZHVsZSBmdW5jdGlvblxuXHRfX3dlYnBhY2tfbW9kdWxlc19fW21vZHVsZUlkXShtb2R1bGUsIG1vZHVsZS5leHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKTtcblxuXHQvLyBSZXR1cm4gdGhlIGV4cG9ydHMgb2YgdGhlIG1vZHVsZVxuXHRyZXR1cm4gbW9kdWxlLmV4cG9ydHM7XG59XG5cbiIsIi8vIG1vZHVsZSBleHBvcnRzIG11c3QgYmUgcmV0dXJuZWQgZnJvbSBydW50aW1lIHNvIGVudHJ5IGlubGluaW5nIGlzIGRpc2FibGVkXG4vLyBzdGFydHVwXG4vLyBMb2FkIGVudHJ5IG1vZHVsZSBhbmQgcmV0dXJuIGV4cG9ydHNcbnJldHVybiBfX3dlYnBhY2tfcmVxdWlyZV9fKDYwNyk7XG4iXSwic291cmNlUm9vdCI6IiJ9